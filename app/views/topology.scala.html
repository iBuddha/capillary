@(name: String, topic: String, total: Long, deltas: Seq[models.ZkKafka.Delta], incr: Option[models.actors.TopoQueue.Increment])(implicit request: play.api.mvc.RequestHeader)

        @getTimestampStr(timestamp: Long) = {
            @{new java.sql.Timestamp(timestamp).toString}
        }
@main("Capillary") {

  <h1>Deltas for topology "@name" <small> topic: @topic</small></h1>
  <table class="table table-striped table-bordered table-hover">
   <thead>
    <th>Partition</th>
    <th>Delta (Messages)</th>
    <th>Kafka Current</th>
    <th>Spout Current</th>
   </thead>
    <tbody>
      <tr class="info">
       <td>All</td>
       <td>Total: @total</th>
       <td>&nbsp;</th>
       <td>&nbsp;</th>
      </tr>
      @for(delta <- deltas) {
      <tr>
       <td>@delta.partition</td>
       <td>@delta.amount</th>
       <td>@delta.current</th>
       <td>@delta.storm</th>
      </tr>
      }
    </tbody>
    <tfoot>
      <tr class="info">
       <td>All</td>
       <td>Total: @total</th>
       <td>&nbsp;</th>
       <td>&nbsp;</th>
      </tr>
    </tfoot>
   </table>
        @if(incr.isDefined){
            <ul>
            <li>From [@getTimestampStr(incr.get.startTime)] with delta [@incr.get.initDelta]</li>
            <li>To &nbsp;&nbsp;[@getTimestampStr(incr.get.endTime)] with delta [@incr.get.finalDelta]</li>
            <li>Max delta is [@incr.get.maxDelta] </li>
            <li>Average delta is [@incr.get.averageDelta]</li>
            <li>Init Kafka offset is [@incr.get.initKafkaOffset] </li>
            <li>Final Kafka offset is [@incr.get.finalKafkaOffset] </li>
            <li> Kafka offset increment speed is [@incr.get.kafkaIncSpeed messages/second]</li>
            </ul>
        }else{"no data"}
}
